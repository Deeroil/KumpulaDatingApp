{% if session.username %}

<a href="/">Front page</a>
<a href="/logout">Logout</a>
<a href="/profiles">Profiles</a>
<a href="/matches">Matches</a>
<a href="/edit">Edit profile</a>

<p>Logged in as {{ session.username }}</p>

<p>To register a new user, log out first</p>

{% else %}

<a href="/">Login</a>
<br>
<p> Register a new account </p>

<form action="/sendregister" method="POST" onsubmit="return check(this)">
  Username (3-25 characters): <br>
  <input type="text" name="username" required></p>
  Password (12-35 char): <br>
  <input type="password" name="passw" required></p>
  Name (2-15 char): <br>
  <input type="text" name="name" required></p>
  <p>Study field:</p>
  <input type="radio" name="field" value="Computer Science" checked="checked"> Computer Science
  <input type="radio" name="field" value="Math"> Math
  <input type="radio" name="field" value="Physics"> Physics
  <br>
  <br>
  Profile (3-200 char): <br>
  <textarea name="bio" rows="3" cols="40" required></textarea>
  <br>
  <input type="submit" value="Send">
</form>

<script>
  function check(form) {
    if (form.username.value.length < 3 || form.username.value.length > 25) {
      alert("Username should be 3-25 characters long");
      return false;
    }

    if (form.passw.value.length < 12 || form.passw.value.length > 35) {
      alert("Password should be 12-35 characters long");
      return false;
    }
    if (form.name.value.length < 2 || form.name.value.length > 15) {
      alert("Name should be 2-15 characters long");
      return false;
    }
    if (form.bio.value.length < 3 || form.bio.value.length > 200) {
      alert("Profile text should be 3-200 characters long");
      return false;
    }
    return true;
  }
</script>

{% endif %}